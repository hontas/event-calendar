{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","package.json","src/js/calendar.js","src/js/utils.js","node_modules/object-assign/index.js"],"names":["eventCalendar","_ref","createDOM","createTable","appendToDOM","el","classList","add","prefix","appendChild","table","createEl","className","thead","tbody","innerHTML","createTableHead","createCaptionWithControls","caption","createControls","captionText","prev","next","textContent","addEventListener","goToPreviousMonth","goToNextMonth","month","value","newMonth","_utils","date","state","currentTime","setState","valueOf","emit","evts","DID_CHANGE_MONTH","api","previous","subtractMonth","following","addMonth","newState","WILL_CHANGE_STATE","_objectAssign2","render","setLocale","str","isString","length","Error","locale","getElementsByTagName","WILL_RENDER","newTbody","createMonth","capitalize","i18n","getMonth","replaceChild","DID_RENDER","tag","options","arguments","undefined","node","document","createElement","Object","keys","forEach","key","days","range","map","i","getWeekDay","thTmpl","join","rowTmpl","createTableCell","day","events","filter","event","isSameDay","timestamp","sort","event1","event2","Date","getTime","tdTmpl","createTableRow","cell","createMonthArray","isWithinCalendarRange","date2compare","currentMonth","lastMonth","startMonth","nextMonth","weekday","getWeekStart","curr","startDate","currentDate","_ref22","push","dayOfMonth","isOtherMonth","addDay","destroy","callback","firstChild","removeChild","_events","isFunction","cells","substr","eventTmpl","eventTemplate","time","isTwelveHours","name","link","_ref3","tdTemplate","active","passive","links","on","concat","_toConsumableArray","off","cb","data","init","selector","errors","INVALID_SELECTOR","querySelector","SELECTOR_DID_NOT_MATCH","debug","console","timeEnd","now","initialState","INITIALIZED","initLocale","userLang","_ref$i18n","_ref$state","lang","index","this","weekdays","months","startOfWeek","twelveHourFormat","en","split","sv","version","_packageJson2","find","array","getPredicate","item","RegExp","test","res","some","predicate","mapBy","Array","isArray","reduce","slice","toUpperCase","num","isNumber","isNaN","arr","fn","isUndefined","zeroPad","valiDate","d","prototype","toString","call","getSet","hasValue","method","kronos","year","diff","getDay","twelveHours","h","getHours","postfix","hours","minutes","getMinutes","compareDate","every","toObject","val","TypeError","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","module","exports","assign","target","source","from","symbols","to","s","getOwnPropertySymbols"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","module.exports={\"name\":\"event-calendar\",\"version\":\"0.8.0\",\"description\":\"Simple calendar for listing events\",\"repository\":\"https://github.com/hontas/event-calendar.git\",\"main\":\"src/js/calendar.js\",\"keywords\":[\"calendar\",\"events\",\"event\"],\"scripts\":{\"clean\":\"rimraf dist/*\",\"bumb\":\"npm version minor\",\"bumb:patch\":\"npm version patch\",\"bumb:major\":\"npm version major\",\"minor\":\"npm run bumb && npm publish\",\"patch\":\"npm run bumb:patch && npm publish\",\"prepublish\":\"npm run build\",\"postpublish\":\"npm run deploy && git push --tags\",\"prebuild\":\"npm run clean -s\",\"build\":\"npm run build:scripts -s && npm run build:styles -s && npm run build:markup -s\",\"build:scripts\":\"browserify --debug src/js/calendar.js --standalone eventCalendar --transform babelify --plugin [minifyify --map event-calendar.min.map.json --output dist/event-calendar.min.map.json] > dist/event-calendar.min.js\",\"build:styles\":\"stylus src/styles/event-calendar.styl --sourcemap --compress --out dist\",\"build:markup\":\"jade src/views/index.jade --out dist/\",\"lint\":\"eslint src\",\"test\":\"npm run test:unit && npm run test:integration\",\"test:unit\":\"mocha --reporter nyan test/unit\",\"test:integration\":\"karma start --single-run\",\"watch\":\"parallelshell 'npm run watch:build -s' 'npm run watch:lint -s' 'npm run watch:test -s'\",\"watch:lint\":\"nodemon --quiet --watch src/ --ext '.' --exec 'npm run lint'\",\"watch:test\":\"npm run test:unit -- --watch & nodemon --quiet --watch test/integration/ --watch dist/ --exec 'karma start --single-run'\",\"watch:build\":\"nodemon --quiet --watch src/ --ext '.' --exec 'npm run build'\",\"deploy\":\"gh-pages -d dist\",\"serve\":\"http-server -p 3000 dist/\",\"open\":\"opener http://localhost:3000\",\"dev\":\"npm run open -s & parallelshell 'npm run serve -s' 'npm run watch -s'\"},\"author\":\"Pontus Lundin <lundin.pontus@gmail.com> (https://github.com/hontas)\",\"license\":\"ISC\",\"dependencies\":{\"object-assign\":\"^4.0.1\"},\"devDependencies\":{\"babel\":\"^5.8.23\",\"babel-eslint\":\"^4.1.1\",\"babelify\":\"^6.3.0\",\"browserify\":\"^11.0.1\",\"chai\":\"^3.2.0\",\"eslint\":\"^1.3.1\",\"eslint-config-airbnb\":\"0.0.8\",\"eslint-plugin-react\":\"^3.3.1\",\"gh-pages\":\"^0.4.0\",\"http-server\":\"^0.8.0\",\"jade\":\"^1.11.0\",\"karma\":\"^0.13.9\",\"karma-babel-preprocessor\":\"^5.2.2\",\"karma-chai\":\"^0.1.0\",\"karma-mocha\":\"^0.2.0\",\"karma-phantomjs-launcher\":\"^0.2.1\",\"karma-sinon-chai\":\"^1.1.0\",\"minifyify\":\"^7.0.6\",\"mocha\":\"^2.3.2\",\"nodemon\":\"^1.7.0\",\"opener\":\"^1.4.1\",\"parallelshell\":\"^2.0.0\",\"phantomjs\":\"^1.9.18\",\"phantomjs-polyfill\":\"0.0.1\",\"rimraf\":\"^2.4.3\",\"sinon\":\"^1.16.1\",\"sinon-chai\":\"^2.8.0\",\"stylus\":\"^0.52.4\"}}","import assign from 'object-assign';\nimport pkg from '../../package.json';\nimport { capitalize, range, isFunction, isString, date } from './utils';\n\nconst evts = {\n  INITIALIZED: 'initialized',\n  WILL_RENDER: 'will-render',\n  DID_RENDER: 'did-render',\n  WILL_CHANGE_STATE: 'will-change-state',\n  DID_CHANGE_MONTH: 'did-change-month'\n};\n\nconst prefix = 'evt-calendar';\nconst errors = {\n  SELECTOR_DID_NOT_MATCH: 'Selector did not match any element',\n  INVALID_SELECTOR: 'Must supply css-selector as string'\n};\n\nconst lang = {\n  en: {\n    months: 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\n    weekdays: 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n    startOfWeek: 0,\n    twelveHourFormat: true\n  },\n  sv: {\n    months: 'januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december'.split('_'),\n    weekdays: 'söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag'.split('_'),\n    startOfWeek: 1\n  }\n};\n\nfunction eventCalendar({ selector, debug, tdTemplate, eventTemplate, locale: initLocale, i18n: userLang = {}, state: initialState = {} }) {\n  let el;\n  let state;\n  let table;\n  let captionText;\n  let tbody;\n  let prev;\n  let next;\n  let api;\n  let locale = initLocale || 'en';\n  const _events = {};\n  const i18n = assign({}, lang, userLang, {\n    getWeekDay(i) {\n      const index = i + this.getWeekStart();\n      return this[locale].weekdays[index > 6 ? 0 : index];\n    },\n    getMonth(i) {\n      return this[locale].months[i];\n    },\n    getWeekStart() {\n      return this[locale].startOfWeek;\n    },\n    isTwelveHours() {\n      return this[locale].twelveHourFormat;\n    }\n  });\n\n  function createDOM() {\n    createTable();\n    appendToDOM();\n  }\n\n  function appendToDOM() {\n    el.classList.add(prefix + '__container');\n    el.appendChild(table);\n  }\n\n  function createTable() {\n    table = createEl('table', { className: prefix });\n    const thead = createEl('thead');\n    tbody = createEl('tbody');\n\n    thead.innerHTML = createTableHead();\n    table.appendChild(createCaptionWithControls());\n    table.appendChild(thead);\n    table.appendChild(tbody);\n  }\n\n  function createCaptionWithControls() {\n    const caption = createEl('caption');\n    createControls();\n    captionText = createEl('div', { className: prefix + '__caption' });\n\n    caption.appendChild(prev);\n    caption.appendChild(next);\n    caption.appendChild(captionText);\n\n    return caption;\n  }\n\n  function createControls() {\n    prev = createEl('button', { textContent: '<', className: prefix + '__prev-btn' });\n    next = createEl('button', { textContent: '>', className: prefix + '__next-btn' });\n\n    prev.addEventListener('click', goToPreviousMonth);\n    next.addEventListener('click', goToNextMonth);\n  }\n\n  function month(value) {\n    if (value) {\n      const newMonth = date(state.currentTime).month(value - 1);\n      setState({\n        currentTime: newMonth.valueOf()\n      });\n\n      emit(evts.DID_CHANGE_MONTH, newMonth.month() + 1);\n      return api;\n    }\n\n    return date(state.currentTime).month() + 1;\n  }\n\n  function goToPreviousMonth() {\n    const previous = date(state.currentTime).subtractMonth();\n    setState({\n      currentTime: previous.valueOf()\n    });\n    emit(evts.DID_CHANGE_MONTH, previous.month());\n  }\n\n  function goToNextMonth() {\n    const following = date(state.currentTime).addMonth();\n\n    setState({\n      currentTime: following.valueOf()\n    });\n\n    emit(evts.DID_CHANGE_MONTH, following.month());\n  }\n\n  function setState(newState) {\n    emit(evts.WILL_CHANGE_STATE, newState);\n\n    state = assign({}, state, newState);\n    render();\n  }\n\n  function setLocale(str) {\n    if (!isString(str) || str.length === 0) {\n      throw Error('setLocale: Argument must be valid language string, eg en or sv');\n    }\n\n    locale = str;\n    el.getElementsByTagName('thead')[0].innerHTML = createTableHead();\n    render();\n  }\n\n  function render() {\n    emit(evts.WILL_RENDER);\n\n    const newTbody = createEl('tbody', { innerHTML: createMonth() });\n\n    captionText.textContent = capitalize(i18n.getMonth(date(state.currentTime).month()));\n\n    table.replaceChild(newTbody, tbody);\n    tbody = newTbody;\n\n    emit(evts.DID_RENDER);\n  }\n\n  function createEl(tag, options = {}) {\n    const node = document.createElement(tag);\n    Object.keys(options).forEach((key) => {\n      node[key] = options[key];\n    });\n    return node;\n  }\n\n  function createTableHead() {\n    const days = range(7)\n      .map((i) => capitalize(i18n.getWeekDay(i)))\n      .map(thTmpl)\n      .join('');\n\n    return rowTmpl(days);\n  }\n\n  function createTableCell(day) {\n    const events = state.events\n      .filter((event) => {\n        return date(event.date).isSameDay(day.timestamp);\n      })\n      .sort((event1, event2) => {\n        return new Date(event1.date).getTime() - new Date(event2.date).getTime();\n      });\n\n    return tdTmpl({ day, events });\n  }\n\n  function createTableRow(cell, i) {\n    // insert a row before new week\n    if (i % 7) {\n      return cell;\n    }\n\n    return rowTmpl(cell);\n  }\n\n  function createMonth() {\n    return createMonthArray()\n      .map(createTableCell)\n      .map(createTableRow)\n      .join('');\n  }\n\n  function createMonthArray() {\n    const days = [];\n    const curr = date(state.currentTime);\n    const startMonth = curr.month();\n    const startDate = date(curr).date(1).weekday(i18n.getWeekStart());\n    const currentDate = date(startDate);\n    const [lastMonth, nextMonth] = (function getNearbyMonths() {\n      if (startMonth === 0) {\n        return [11, 1];\n      }\n      if (startMonth === 11) {\n        return [10, 0];\n      }\n      return [startMonth - 1, startMonth + 1];\n    })();\n\n    function isWithinCalendarRange(date2compare) {\n      const currentMonth = date2compare.month();\n\n      if (currentMonth === lastMonth || currentMonth === startMonth) {\n        return true;\n      }\n\n      if (currentMonth === nextMonth) {\n        return date2compare.weekday() !== i18n.getWeekStart();\n      }\n    }\n\n    while (isWithinCalendarRange(currentDate)) {\n      days.push({\n        dayOfMonth: currentDate.date(),\n        timestamp: currentDate.valueOf(),\n        isOtherMonth: currentDate.month() !== startMonth\n      });\n      currentDate.addDay();\n    }\n\n    return days;\n  }\n\n  function destroy(callback) {\n    if (el) {\n      // remove DOM\n      let firstChild = el.firstChild;\n      while (firstChild) {\n        el.removeChild(firstChild);\n        firstChild = el.firstChild;\n      }\n\n      // remove events\n      Object.keys(_events).forEach((event) => {\n        _events[event] = null;\n      });\n\n      // reset variables\n      el = null;\n      state = null;\n      table = null;\n      captionText = null;\n      tbody = null;\n      prev = null;\n      next = null;\n      api = null;\n    }\n\n    if (isFunction(callback)) {\n      callback();\n    }\n  }\n\n  /**\n   * Template functions\n   */\n\n  function rowTmpl(cells) {\n    return `<tr>${cells}`;\n  }\n\n  function thTmpl(day) {\n    return (\n      `<th class=\"${prefix}__head\">\n        ${day.substr(0, 1)}<span class=\"rest\">${day.substr(1, 2)}<span class=\"ending\">${day.substr(3)}</span><span>\n      </th>`);\n  }\n\n  function eventTmpl(event) {\n    if (isFunction(eventTemplate)) {\n      return eventTemplate(event);\n    }\n\n    const textContent = `${date(event.date).time(i18n.isTwelveHours())} ${event.name}`;\n    const tag = event.link ? 'a' : 'span';\n    const link = event.link ? 'href=\"' + event.link + '\"' : '';\n\n    return (\n      `<${tag} class=\"${prefix}__cell__event\" ${link} title=\"${textContent}\">\n        <span class=\"event-time\">${date(event.date).time(i18n.isTwelveHours())}</span>\n        <span class=\"event-name\">${event.name}</span>\n        <span class=\"event-dot\"></span>\n      </${tag}>`);\n  }\n\n  function tdTmpl({ day, events }) {\n    if (isFunction(tdTemplate)) {\n      return tdTemplate({ day, events });\n    }\n\n    const active = events.length ? prefix + '__cell--active' : '';\n    const passive = day.isOtherMonth ? prefix + '__cell--passive' : '';\n    const links = events.map(eventTmpl).join('');\n\n    return (\n      `<td class='${prefix}__cell ${active} ${passive}'>\n        ${ links }\n        <span class='${prefix}__cell__date'>${day.dayOfMonth}</span>\n      </td>`);\n  }\n\n  /**\n   * Events\n   */\n\n  function on(event, callback) {\n    if (!_events[event]) {\n      _events[event] = [];\n    }\n    _events[event] = [..._events[event], callback];\n\n    return api;\n  }\n\n  function off(event, callback) {\n    _events[event] = _events[event].filter((cb) => {\n      return cb !== callback;\n    });\n\n    if (_events[event].length === 0) {\n      delete _events[event];\n    }\n\n    return api;\n  }\n\n  function emit(event, data) {\n    if (_events[event]) {\n      _events[event].forEach((cb) => cb(data));\n    }\n  }\n\n  /**\n   * Init\n   */\n\n  function init() {\n    if (!selector || !isString(selector)) {\n      throw Error(errors.INVALID_SELECTOR);\n    }\n\n    el = document.querySelector(selector);\n\n    if (!el) {\n      throw Error(errors.SELECTOR_DID_NOT_MATCH);\n    }\n\n    if (debug) {\n      on(evts.WILL_RENDER, () => { console.time('render'); }); // eslint-disable-line no-console\n      on(evts.DID_RENDER, () => { console.timeEnd('render'); }); // eslint-disable-line no-console\n    }\n\n    state = assign({}, {\n      currentTime: Date.now(),\n      events: []\n    }, initialState);\n\n    createDOM();\n    render();\n    emit(evts.INITIALIZED);\n  }\n\n  /**\n   * Export Public API\n   */\n\n  init();\n  api = {\n    render,\n    setState,\n    setLocale,\n    month,\n    on,\n    off,\n    destroy,\n    _events\n  };\n\n  return api;\n}\n\neventCalendar.version = pkg.version;\n\nexport default eventCalendar;\n\n","export function find(array, value, key) {\n  let res = null;\n\n  function getPredicate(item) {\n    if (value instanceof RegExp) {\n      return key ? value.test(item[key]) : value.test(item);\n    }\n\n    if (typeof value === 'function') {\n      return key ? value(item[key]) : value(item);\n    }\n\n    return key ? item[key] === value : item === value;\n  }\n\n  array.some((item) => {\n    const predicate = getPredicate(item);\n    if (predicate) {\n      res = item;\n      return true;\n    }\n  });\n\n  return res;\n}\n\nexport function mapBy(array, keys) {\n  if (Array.isArray(keys)) {\n    return array.map((item) => {\n      return keys.reduce((res, key) => {\n        res[key] = item[key];\n        return res;\n      }, {});\n    });\n  }\n\n  return array.map((item) => item[keys]);\n}\n\nexport function capitalize(str) {\n  if (!isString(str)) {\n    throw Error(`capitalize: Argument must be of type String, got '${typeof str}'`);\n  }\n  return str.slice(0, 1).toUpperCase() + str.slice(1);\n}\n\nexport function range(num) {\n  if (!isNumber(num) || isNaN(num)) {\n    throw Error(`range: Argument must be of type number, got '${typeof num}'`);\n  }\n\n  let i = 0;\n  const arr = [];\n  do {\n    arr.push(i);\n  } while (++i < num);\n  return arr;\n}\n\nexport function isFunction(fn) {\n  return typeof fn === 'function';\n}\n\nexport function isString(str) {\n  return typeof str === 'string';\n}\n\nexport function isNumber(num) {\n  return typeof num === 'number';\n}\n\nexport function isNaN(value) {\n  return isNumber(value) && (value !== value);  // eslint-disable-line no-self-compare\n}\n\nexport function isUndefined(value) {\n  return typeof value === 'undefined';\n}\n\nfunction zeroPad(num) {\n  return num < 10 ? `0${num}` : `${num}`;\n}\n\nfunction valiDate(d) {\n  if (Object.prototype.toString.call(d) !== '[object Date]') {\n    return false;\n  }\n  return !isNaN(d.getTime());\n}\n\nexport function date(d) {\n  let kronos;\n\n  if (typeof d === 'object') {\n    kronos = new Date(d.getTime());\n  } else {\n    kronos = d ? new Date(d) : new Date();\n  }\n\n  if (!valiDate(kronos)) {\n    throw Error(`Could not create date from '${d}'`);\n  }\n\n  function getSet(value, key) {\n    const hasValue = !isUndefined(value);\n    const method = hasValue ? 'set' + key : 'get' + key;\n\n    if (hasValue) {\n      kronos[method](value);\n      return api;\n    }\n\n    return kronos[method]();\n  }\n\n  // noinspection UnnecessaryLocalVariableJS\n  const api = {\n    valueOf() {\n      return kronos.getTime();\n    },\n\n    getTime() {\n      return kronos.getTime();\n    },\n\n    year(value) {\n      return getSet(value, 'FullYear');\n    },\n\n    month(value) {\n      return getSet(value, 'Month');\n    },\n\n    date(value) {\n      return getSet(value, 'Date');\n    },\n\n    weekday(value) {\n      if (!isUndefined(value)) {\n        const diff = value - api.weekday();\n\n        api.date(api.date() + diff);\n        return api;\n      }\n\n      return kronos.getDay();\n    },\n\n    time(twelveHours) {\n      const h = kronos.getHours();\n      const postfix = twelveHours && (h > 12 ? 'pm' : 'am') || '';\n      const hours = twelveHours && (h > 12 ? h - 12 : h) || zeroPad(h);\n      const minutes = zeroPad(kronos.getMinutes());\n\n      return `${hours}:${minutes}${postfix}`;\n    },\n\n    subtractMonth() {\n      return api.month(kronos.getMonth() - 1);\n    },\n\n    addMonth() {\n      return api.month(kronos.getMonth() + 1);\n    },\n\n    addDay() {\n      return api.date(api.date() + 1);\n    },\n\n    isSameDay(timestamp) {\n      const compareDate = new Date(timestamp);\n\n      return ['getFullYear', 'getMonth', 'getDate'].every((fn) => {\n        return compareDate[fn]() === kronos[fn]();\n      });\n    }\n  };\n\n  return api;\n}\n\nexport default {\n  find,\n  mapBy,\n  capitalize,\n  range,\n  isFunction,\n  isString,\n  isNumber,\n  isNaN,\n  isUndefined,\n  date\n};\n","/* eslint-disable no-unused-vars */\n'use strict';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nmodule.exports = Object.assign || function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n"]}