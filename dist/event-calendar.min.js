(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.eventCalendar = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function toObject(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=Object.assign||function(e,r){for(var t,n,o=toObject(e),a=1;a<arguments.length;a++){t=Object(arguments[a]);for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);if(Object.getOwnPropertySymbols){n=Object.getOwnPropertySymbols(t);for(var c=0;c<n.length;c++)propIsEnumerable.call(t,n[c])&&(o[n[c]]=t[n[c]])}}return o};
},{}],2:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function eventCalendar(e){function t(){r(),n()}function n(){w.classList.add(prefix+"__container"),w.appendChild(H)}function r(){H=c("table",{className:prefix});var e=c("thead");G=c("tbody"),e.innerHTML=_(),H.appendChild(i()),H.appendChild(e),H.appendChild(G)}function i(){var e=c("caption");return a(),q=c("div",{className:prefix+"__caption"}),e.appendChild(F),e.appendChild(z),e.appendChild(q),e}function a(){F=c("button",{textContent:"<",className:prefix+"__prev-btn"}),z=c("button",{textContent:">",className:prefix+"__next-btn"}),F.addEventListener("click",o),z.addEventListener("click",u)}function o(){var e=_utils.date(W.currentTime).subtractMonth();s({currentTime:e.valueOf()}),b(evts.DID_CHANGE_MONTH,e.month())}function u(){var e=_utils.date(W.currentTime).addMonth();s({currentTime:e.valueOf()}),b(evts.DID_CHANGE_MONTH,e.month())}function s(e){b(evts.WILL_CHANGE_STATE,e),W=_objectAssign2["default"]({},W,e),l()}function d(e){x=e,l()}function l(){b(evts.WILL_RENDER);var e=c("tbody",{innerHTML:p()});q.textContent=_utils.capitalize(V.getMonth(_utils.date(W.currentTime).month())),H.replaceChild(e,G),G=e,b(evts.DID_RENDER)}function c(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=document.createElement(e);return Object.keys(t).forEach(function(e){n[e]=t[e]}),n}function _(){var e=_utils.range(7).map(function(e){return _utils.capitalize(V.getWeekDay(e))}).map(y).join("");return h(e)}function f(e){var t=W.events.filter(function(t){return _utils.date(t.date).isSameDay(e.timestamp)}).sort(function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()});return E({day:e,events:t})}function v(e,t){return t%7?e:h(e)}function p(){return m().map(f).map(v).join("")}function m(){function e(e){var t=e.month();return t===s||t===r?!0:t===d?e.weekday()!==V.getWeekStart():void 0}for(var t=[],n=_utils.date(W.currentTime),r=n.month(),i=_utils.date(n).date(1).weekday(V.getWeekStart()),a=_utils.date(i),o=function(){return 0===r?[11,1]:11===r?[10,0]:[r-1,r+1]}(),u=_slicedToArray(o,2),s=u[0],d=u[1];e(a);)t.push({dayOfMonth:a.date(),timestamp:a.valueOf(),isOtherMonth:a.month()!==r}),a.addDay();return t}function h(e){return"<tr>"+e}function y(e){return"<th>"+e+"</th>"}function g(e){if(_utils.isFunction(L))return L(e);var t=_utils.date(e.date).time()+" "+e.name;return e.link?'<a class="'+prefix+'__cell__event" href="'+e.link+'">\n          '+t+"\n        </a>":'<span class="'+prefix+'__cell__event">\n        '+t+"\n      </span>"}function E(e){var t=e.day,n=e.events;if(_utils.isFunction(N))return N({day:t,events:n});var r=n.length?prefix+"__cell--active":"",i=t.isOtherMonth?prefix+"__cell--passive":"",a=n.map(g).join("");return"<td class='"+prefix+"__cell "+r+" "+i+"'>\n        "+a+"\n        <span class='"+prefix+"__cell__date'>"+t.dayOfMonth+"</span>\n      </td>"}function D(e,t){return j[e]||(j[e]=[]),j[e]=[].concat(_toConsumableArray(j[e]),[t]),J}function T(e,t){return j[e]=j[e].filter(function(e){return e!==t}),J}function b(e,t){j[e]&&j[e].forEach(function(e){return e(t)})}function A(){if(!C||!_utils.isString(C))throw Error(errors.INVALID_SELECTOR);if(w=document.querySelector(C),!w)throw Error(errors.SELECTOR_DID_NOT_MATCH);I&&(D(evts.WILL_RENDER,function(){console.time("render")}),D(evts.DID_RENDER,function(){console.timeEnd("render")})),W=_objectAssign2["default"]({},{currentTime:Date.now(),events:[]},R),t(),l(),b(evts.INITIALIZED)}var C=e.selector,I=e.debug,N=e.tdTemplate,L=e.eventTemplate,O=e.locale,x=void 0===O?"en":O,M=e.i18n,k=void 0===M?{}:M,S=e.state,R=void 0===S?{}:S,j={},w=void 0,W=void 0,H=void 0,q=void 0,G=void 0,F=void 0,z=void 0,J=void 0,V=_objectAssign2["default"]({},lang,k,{getWeekDay:function(e){var t=e+this.getWeekStart();return this[x].weekdays[t>6?0:t]},getMonth:function(e){return this[x].months[e]},getWeekStart:function(){return this[x].startOfWeek}});return A(),J={render:l,setState:s,setLocale:d,on:D,off:T}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_objectAssign=require("object-assign"),_objectAssign2=_interopRequireDefault(_objectAssign),_utils=require("./utils"),evts={INITIALIZED:"initialized",WILL_RENDER:"will-render",DID_RENDER:"did-render",WILL_CHANGE_STATE:"will-change-state",DID_CHANGE_MONTH:"did-change-month"},prefix="evt-calendar",errors={SELECTOR_DID_NOT_MATCH:"Selector did not match any element",INVALID_SELECTOR:"Must supply css-selector as string"},lang={en:{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),startOfWeek:0},sv:{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),startOfWeek:1}};exports["default"]=eventCalendar,module.exports=exports["default"];
},{"./utils":3,"object-assign":1}],3:[function(require,module,exports){
"use strict";function find(t,e,n){function r(t){return e instanceof RegExp?n?e.test(t[n]):e.test(t):"function"==typeof e?e(n?t[n]:t):n?t[n]===e:t===e}var i=null;return t.some(function(t){var e=r(t);return e?(i=t,!0):void 0}),i}function mapBy(t,e){return Array.isArray(e)?t.map(function(t){return e.reduce(function(e,n){return e[n]=t[n],e},{})}):t.map(function(t){return t[e]})}function capitalize(t){if("string"!=typeof t)throw Error("Argument must be of type String");return t.slice(0,1).toUpperCase()+t.slice(1)}function range(t){var e=0,n=[];do n.push(e);while(++e<t);return n}function isFunction(t){return"function"==typeof t}function isString(t){return"string"==typeof t}function isUndefined(t){return"undefined"==typeof t}function zeroPad(t){return 10>t?"0"+t:""+t}function date(t){function e(t,e){var i=!isUndefined(t),u=i?"set"+e:"get"+e;return i?(n[u](t),r):n[u]()}var n=void 0;n="object"==typeof t?new Date(t.getTime()):t?new Date(t):new Date;var r={valueOf:function(){return n.getTime()},getTime:function(){return n.getTime()},year:function(){return n.getFullYear()},month:function(t){return e(t,"Month")},date:function(t){return e(t,"Date")},weekday:function(t){if(!isUndefined(t)){var e=t-r.weekday();return r.date(r.date()+e),r}return n.getDay()},time:function(){var t=zeroPad(n.getHours()),e=zeroPad(n.getMinutes());return t+":"+e},subtractMonth:function(){return r.month(n.getMonth()-1)},addMonth:function(){return r.month(n.getMonth()+1)},addDay:function(){return r.date(r.date()+1)},isSameDay:function(t){var e=new Date(t);return["getFullYear","getMonth","getDate"].every(function(t){return e[t]()===n[t]()})}};return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.find=find,exports.mapBy=mapBy,exports.capitalize=capitalize,exports.range=range,exports.isFunction=isFunction,exports.isString=isString,exports.isUndefined=isUndefined,exports.date=date,exports["default"]={find:find,mapBy:mapBy,capitalize:capitalize,range:range,isFunction:isFunction,isString:isString,isUndefined:isUndefined,date:date};
},{}]},{},[2])(2)
});


//# sourceMappingURL=event-calendar.min.map.json