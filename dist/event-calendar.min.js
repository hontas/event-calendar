(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.eventCalendar = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function toObject(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=Object.assign||function(e,r){for(var t,n,o=toObject(e),a=1;a<arguments.length;a++){t=Object(arguments[a]);for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);if(Object.getOwnPropertySymbols){n=Object.getOwnPropertySymbols(t);for(var c=0;c<n.length;c++)propIsEnumerable.call(t,n[c])&&(o[n[c]]=t[n[c]])}}return o};
},{}],2:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function eventCalendar(e){function t(){r(),n()}function n(){j.classList.add(prefix+"__container"),j.appendChild(W)}function r(){W=_("table",{className:prefix});var e=_("thead");G=_("tbody"),e.innerHTML=f(),W.appendChild(i()),W.appendChild(e),W.appendChild(G)}function i(){var e=_("caption");return a(),F=_("div",{className:prefix+"__caption"}),e.appendChild(q),e.appendChild(z),e.appendChild(F),e}function a(){q=_("button",{textContent:"<",className:prefix+"__prev-btn"}),z=_("button",{textContent:">",className:prefix+"__next-btn"}),q.addEventListener("click",u),z.addEventListener("click",o)}function s(e){if(e){var t=_utils.date(R.currentTime).month(e-1);return l({currentTime:t.valueOf()}),C(evts.DID_CHANGE_MONTH,t.month()+1),J}return _utils.date(R.currentTime).month()+1}function u(){var e=_utils.date(R.currentTime).subtractMonth();l({currentTime:e.valueOf()}),C(evts.DID_CHANGE_MONTH,e.month())}function o(){var e=_utils.date(R.currentTime).addMonth();l({currentTime:e.valueOf()}),C(evts.DID_CHANGE_MONTH,e.month())}function l(e){C(evts.WILL_CHANGE_STATE,e),R=_objectAssign2["default"]({},R,e),d()}function c(e){if(!_utils.isString(e)||0===e.length)throw Error("setLocale: Argument must be valid language string, eg en or sv");V=e,j.getElementsByTagName("thead")[0].innerHTML=f(),d()}function d(){C(evts.WILL_RENDER);var e=_("tbody",{innerHTML:p()});F.textContent=_utils.capitalize(B.getMonth(_utils.date(R.currentTime).month())),W.replaceChild(e,G),G=e,C(evts.DID_RENDER)}function _(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=document.createElement(e);return Object.keys(t).forEach(function(e){n[e]=t[e]}),n}function f(){var e=_utils.range(7).map(function(e){return _utils.capitalize(B.getWeekDay(e))}).map(T).join("");return y(e)}function v(e){var t=R.events.filter(function(t){return _utils.date(t.date).isSameDay(e.timestamp)}).sort(function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()});return b({day:e,events:t})}function m(e,t){return t%7?e:y(e)}function p(){return h().map(v).map(m).join("")}function h(){function e(e){var t=e.month();return t===o||t===r?!0:t===l?e.weekday()!==B.getWeekStart():void 0}for(var t=[],n=_utils.date(R.currentTime),r=n.month(),i=_utils.date(n).date(1).weekday(B.getWeekStart()),a=_utils.date(i),s=function(){return 0===r?[11,1]:11===r?[10,0]:[r-1,r+1]}(),u=_slicedToArray(s,2),o=u[0],l=u[1];e(a);)t.push({dayOfMonth:a.date(),timestamp:a.valueOf(),isOtherMonth:a.month()!==r}),a.addDay();return t}function g(e){if(j){for(var t=j.firstChild;t;)j.removeChild(t),t=j.firstChild;Object.keys(Z).forEach(function(e){Z[e]=null}),j=null,R=null,W=null,F=null,G=null,q=null,z=null,J=null}_utils.isFunction(e)&&e()}function y(e){return"<tr>"+e}function T(e){return'<th class="'+prefix+'__head">\n        '+e.substr(0,1)+'<span class="rest">'+e.substr(1,2)+'<span class="ending">'+e.substr(3)+"</span><span>\n      </th>"}function E(e){if(_utils.isFunction(M))return M(e);var t=_utils.date(e.date).time(B.isTwelveHours())+" "+e.name,n=e.link?"a":"span",r=e.link?'href="'+e.link+'"':"";return"<"+n+' class="'+prefix+'__cell__event" '+r+' title="'+t+'">\n        <span class="event-time">'+_utils.date(e.date).time(B.isTwelveHours())+'</span>\n        <span class="event-name">'+e.name+'</span>\n        <span class="event-dot"></span>\n      </'+n+">"}function b(e){var t=e.day,n=e.events;if(_utils.isFunction(O))return O({day:t,events:n});var r=n.length?prefix+"__cell--active":"",i=t.isOtherMonth?prefix+"__cell--passive":"",a=n.map(E).join("");return"<td class='"+prefix+"__cell "+r+" "+i+"'>\n        "+a+"\n        <span class='"+prefix+"__cell__date'>"+t.dayOfMonth+"</span>\n      </td>"}function D(e,t){return Z[e]||(Z[e]=[]),Z[e]=[].concat(_toConsumableArray(Z[e]),[t]),J}function A(e,t){return Z[e]=Z[e].filter(function(e){return e!==t}),0===Z[e].length&&delete Z[e],J}function C(e,t){Z[e]&&Z[e].forEach(function(e){return e(t)})}function N(){if(!I||!_utils.isString(I))throw Error(errors.INVALID_SELECTOR);if(j=document.querySelector(I),!j)throw Error(errors.SELECTOR_DID_NOT_MATCH);L&&(D(evts.WILL_RENDER,function(){console.time("render")}),D(evts.DID_RENDER,function(){console.timeEnd("render")})),R=_objectAssign2["default"]({},{currentTime:Date.now(),events:[]},H),t(),d(),C(evts.INITIALIZED)}var I=e.selector,L=e.debug,O=e.tdTemplate,M=e.eventTemplate,k=e.locale,w=e.i18n,x=void 0===w?{}:w,S=e.state,H=void 0===S?{}:S,j=void 0,R=void 0,W=void 0,F=void 0,G=void 0,q=void 0,z=void 0,J=void 0,V=k||"en",Z={},B=_objectAssign2["default"]({},lang,x,{getWeekDay:function(e){var t=e+this.getWeekStart();return this[V].weekdays[t>6?0:t]},getMonth:function(e){return this[V].months[e]},getWeekStart:function(){return this[V].startOfWeek},isTwelveHours:function(){return this[V].twelveHourFormat}});return N(),J={render:d,setState:l,setLocale:c,month:s,on:D,off:A,destroy:g,_events:Z}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(o){i=!0,a=o}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_objectAssign=require("object-assign"),_objectAssign2=_interopRequireDefault(_objectAssign),_utils=require("./utils"),evts={INITIALIZED:"initialized",WILL_RENDER:"will-render",DID_RENDER:"did-render",WILL_CHANGE_STATE:"will-change-state",DID_CHANGE_MONTH:"did-change-month"},prefix="evt-calendar",errors={SELECTOR_DID_NOT_MATCH:"Selector did not match any element",INVALID_SELECTOR:"Must supply css-selector as string"},lang={en:{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),startOfWeek:0,twelveHourFormat:!0},sv:{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),startOfWeek:1}};exports["default"]=eventCalendar,module.exports=exports["default"];
},{"./utils":3,"object-assign":1}],3:[function(require,module,exports){
"use strict";function find(e,t,n){function r(e){return t instanceof RegExp?n?t.test(e[n]):t.test(e):"function"==typeof t?t(n?e[n]:e):n?e[n]===t:e===t}var i=null;return e.some(function(e){var t=r(e);return t?(i=e,!0):void 0}),i}function mapBy(e,t){return Array.isArray(t)?e.map(function(e){return t.reduce(function(t,n){return t[n]=e[n],t},{})}):e.map(function(e){return e[t]})}function capitalize(e){if(!isString(e))throw Error("capitalize: Argument must be of type String, got '"+typeof e+"'");return e.slice(0,1).toUpperCase()+e.slice(1)}function range(e){if(!isNumber(e)||isNaN(e))throw Error("range: Argument must be of type number, got '"+typeof e+"'");var t=0,n=[];do n.push(t);while(++t<e);return n}function isFunction(e){return"function"==typeof e}function isString(e){return"string"==typeof e}function isNumber(e){return"number"==typeof e}function isNaN(e){return isNumber(e)&&e!==e}function isUndefined(e){return"undefined"==typeof e}function zeroPad(e){return 10>e?"0"+e:""+e}function valiDate(e){return"[object Date]"!==Object.prototype.toString.call(e)?!1:!isNaN(e.getTime())}function date(e){function t(e,t){var i=!isUndefined(e),o=i?"set"+t:"get"+t;return i?(n[o](e),r):n[o]()}var n=void 0;if(n="object"==typeof e?new Date(e.getTime()):e?new Date(e):new Date,!valiDate(n))throw Error("Could not create date from '"+e+"'");var r={valueOf:function(){return n.getTime()},getTime:function(){return n.getTime()},year:function(e){return t(e,"FullYear")},month:function(e){return t(e,"Month")},date:function(e){return t(e,"Date")},weekday:function(e){if(!isUndefined(e)){var t=e-r.weekday();return r.date(r.date()+t),r}return n.getDay()},time:function(e){var t=n.getHours(),r=e&&(t>12?"pm":"am")||"",i=e&&(t>12?t-12:t)||zeroPad(t),o=zeroPad(n.getMinutes());return i+":"+o+r},subtractMonth:function(){return r.month(n.getMonth()-1)},addMonth:function(){return r.month(n.getMonth()+1)},addDay:function(){return r.date(r.date()+1)},isSameDay:function(e){var t=new Date(e);return["getFullYear","getMonth","getDate"].every(function(e){return t[e]()===n[e]()})}};return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.find=find,exports.mapBy=mapBy,exports.capitalize=capitalize,exports.range=range,exports.isFunction=isFunction,exports.isString=isString,exports.isNumber=isNumber,exports.isNaN=isNaN,exports.isUndefined=isUndefined,exports.date=date,exports["default"]={find:find,mapBy:mapBy,capitalize:capitalize,range:range,isFunction:isFunction,isString:isString,isNumber:isNumber,isNaN:isNaN,isUndefined:isUndefined,date:date};
},{}]},{},[2])(2)
});


//# sourceMappingURL=event-calendar.min.map.json